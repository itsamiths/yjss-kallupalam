<!DOCTYPE html>
<html>
  <head>
    <title>Become member of YJSS-Kallupalam</title>
	<meta name="description" content="We are Non-Profit Organization which comprises young bloods of Kallupalam, mainly aims to transform the society through service to mankind.">
	<meta name="keywords" content="yjss,kallupalam, edaicode, yuva jena seva sangam, seva, sangam, kanya kumari">
	<meta name="revisit-after" content="30 days">
	<meta name="author" content="Amith Kumar M K">
	<meta name="ROBOTS" content="INDEX, FOLLOW">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Lato Font -->
	<link href='http://fonts.googleapis.com/css?family=Lato:300,400,700' rel='stylesheet' type='text/css'>
    <!-- Reset CSS -->
    <link href="assets/css/reset.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="assets/css/custom.css" rel="stylesheet" media="screen">
    <!-- Image Slideshow CSS -->
	
	<link rel="stylesheet" href="assets/form/css.css" type="text/css">
	<link rel="stylesheet" href="assets/form/main.css" type="text/css">
	<link rel="stylesheet" href="assets/form/formoid-metro-cyan.css" type="text/css">
	  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
	  <!--[if lt IE 9]>
		<script src="assets/js/html5shiv.js"></script>
	  <![endif]-->
	
  </head>
  <body>
    <div id="body">
		<div id="nav">
			<ul>
				<li><a href="index.html">Home</a></li>
				<li><a href="activity.html">Activity</a></li>
				<li><a href="registration.html" class="selected">Become a member</a></li>
				<li><a href="team.html">Our Team<a></li>
				<li><a href="about.html">About Us</a></li>
			</ul>
		</div>
		<div id="block-main">
			<div class="content">	
				<section id="success-msg" style="display:none">
					<form   class="formoid-metro-cyan" style="background-color:#FFFFFF;font-size:14px;font-family:'Open Sans','Helvetica Neue','Helvetica',Arial,Verdana,sans-serif;color:#666666;max-width:480px;min-width:150px" method="post" autocomplete="off">
						<div class="title">
							<h2>Success</h2>
							<hr />
							<h2>Thank you for your time. Your response is recorded</h2>
						</div>
					</form>
				</section>
				<section id="main-b">
					<!-- Start Formoid form-->
					<form id="register" name="register" class="formoid-metro-cyan" style="background-color:#FFFFFF;font-size:14px;font-family:'Open Sans','Helvetica Neue','Helvetica',Arial,Verdana,sans-serif;color:#666666;max-width:480px;min-width:150px" method="post" autocomplete="off">
						<div class="title">
							<h2>Registration form</h2>
						</div>
						<div class="element-name">
							<label class="title">Your Name:<span aria-required="true" class="required">*</span></label>
							<input aria-required="true" class="large" name="fullname" required="required" type="text">
						</div>
						<div class="element-date">
							<label class="title">Your Birthday:<span aria-required="true" class="required">*</span></label>
							<input placeholder="dd-mm-yyyy" name="dob" class="large" required="required" type="text">
						</div>
						<div class="element-radio">
							<label class="title">Your Gender:<span aria-required="true" class="required">*</span></label>
							<div class="column column3">
								<input name="gender" value="Male" required="required" type="radio">
								<span>Male</span>
								<br>
							</div>
							<span class="clearfix"></span>
							<div class="column column3">
								<input name="gender" value="Female" type="radio">
								<span>Female</span>
								<br>
							</div>
							<span class="clearfix"></span>
							<div class="column column3">
								<input name="gender" value="Other" type="radio">
								<span>Other</span>
								<br>
							</div>
							<span class="clearfix"></span>
						</div>
						<div class="element-input">
							<label class="title">Your current residential address:<span aria-required="true" class="required">*</span></label>
							<textarea rows="4" cols="10" aria-required="true" name="address"  required="required" ></textarea>
						</div>
						<div class="element-input">
							<label class="title">Your blood group:<span aria-required="true" class="required">*</span></label>
							<input aria-required="true" class="large" name="bloodgroup" value="" required="required" type="text">
						</div>
						<div class="element-email">
							<label class="title">Your Email:</label>
							<input aria-required="true" class="large" name="email"  type="email">
						</div>
						<div class="element-input">
							<label class="title">Your mobile number:<span aria-required="true" class="required">*</span></label>
							<input aria-required="true" class="large" name="mobilenumber" value="" required="required" type="text">
						</div>
						<div class="submit">
							<input value="Submit" type="submit">
						</div>
					</form>
	<!-- End Formoid form-->
				</section>
			</div>
		</div>	
		<div id="wait" style="display:none;width:69px;height:89px;border:1px solid black;position:absolute;top:50%;left:50%;padding:2px;"><img src='assets/img/demo_wait.gif' width="64" height="64" /><br>Loading..</div>
  </body>
  	<script type="text/javascript" src="assets/js/jquery.min.js"></script>
	<script type="text/javascript" src="assets/form/formoid-metro-cyan.js"></script>
	<script type="text/javascript" src="assets/js/jquery.flippy.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function(){
			// variable to hold request
			var request;
			$( document ).ajaxStart(function() {
			  $( "#wait" ).show();
			});
			$(document).ajaxComplete(function(){
				$("#wait").hide();
			});
			// bind to the submit event of our form
			$("#register").submit(function(event){
				var has_empty = false;

			   $(this).find( 'input, select, button, textarea' ).each(function () {

				  if ( ! $(this).val() ) { has_empty = true; return false; }
			   });

			   if ( has_empty ) { return false; }
				// abort any pending request
				if (request) {
					request.abort();
				}
				// setup some local variables
				var $form = $(this);
				// let's select and cache all the fields
				var $inputs = $form.find("input, select, button, textarea");
				// serialize the data in the form
				var serializedData = $form.serialize();

				// let's disable the inputs for the duration of the ajax request
				// Note: we disable elements AFTER the form data has been serialized.
				// Disabled form elements will not be serialized.
				$inputs.prop("disabled", true);

				// fire off the request to /form.php
				request = $.ajax({
					url: "https://script.google.com/macros/s/AKfycby1OYD4hqphfNjzHr-R9IunCuzdH07dniRWnVN8hagZyv5PSvo/exec",
					type: "post",
					data: serializedData
				});

				// callback handler that will be called on success
				request.done(function (response, textStatus, jqXHR){
					// log a message to the console
					//alert("Thank you for your time. Your response is recorded");
					//$('register').reset();
					$("#main-b").flippy({
					  verso:"#success-msg",
					  recto:"#main-b",
					  noRemove: true,
					  direction:"LEFT",
					  duration:"1000",
					  onStart:function(){
						$("#main-b").fadeOut(1000);
					  },
					  onFinish:function(){
						$("#success-msg").fadeIn(250);
					  }
					});
					console.log("Hooray, it worked!");
				});

				// callback handler that will be called on failure
				request.fail(function (jqXHR, textStatus, errorThrown){
					// log the error to the console
					console.error(
						"The following error occured: "+
						textStatus, errorThrown
					);
				});

				// callback handler that will be called regardless
				// if the request failed or succeeded
				request.always(function () {
					// reenable the inputs
					$inputs.prop("disabled", false);
				});

				// prevent default posting of form
				event.preventDefault();
			});
		});
	</script>
</html>
